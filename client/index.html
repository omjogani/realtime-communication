<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Realtime Communication</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.1/flowbite.min.css" rel="stylesheet" />

</head>
<body class="bg-gray-50">
    <div id="cTypeDropdown" class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2">
        <!-- Name TextBox -->
        <input type="text" id="name" class="border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:border-gray-600  dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Your name..." required autocomplete="off">
        <br>
        <!-- Communication Type Dropdown Button -->
        <button id="dropdownDefaultButton" data-dropdown-toggle="dropdown" class="text-white w-auto min-w-0 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center inline-flex items-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800" type="button">Select Communication Type
            <svg class="w-2.5 h-2.5 ms-3" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 10 6">
                <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m1 1 4 4 4-4"/>
            </svg>
        </button>
        
        <!-- Communication Type Dropdown menu -->
        <div id="dropdown" class="z-10 hidden bg-white divide-y divide-gray-100 rounded-lg shadow w-44 dark:bg-gray-700">
            <ul class="py-2 text-sm text-gray-700 dark:text-gray-200" aria-labelledby="dropdownDefaultButton">
                <li>
                    <button onclick="handleCommunicationType('persistent-first')" type="button" class="m-4">Persistent First (Slack)</button>
                </li>
                <li>
                    <button onclick="handleCommunicationType('persistent-later')" type="button" class="m-4">Persistent Later (WhatsApp)</button>
                </li>
                <li>
                    <button onclick="handleCommunicationType('no-persistent')" type="button" class="m-4">No Persistent (Zoom/GMeet Chat)</button>
                </li>
            </ul>
        </div>
    </div>
    <!-- Chat -->
    <section id="chat" class="hidden flex flex-col justify-start antialiased bg-gray-50 text-gray-600 min-h-screen ">
        <div class="h-full">
            <!-- Card -->
            <div class="relative max-w-[340px] mx-auto bg-white shadow-lg rounded-lg">
                <!-- Card header -->
                <header class="pt-6 pb-4 px-5 border-b border-gray-200">
                    <div class="flex justify-between items-center mb-3">
                        <!-- Image + name -->
                        <div class="flex items-center">
                            <a class="inline-flex items-start mr-3" href="#0">
                                <img id="myProfilePicture" class="rounded-full" src="https://res.cloudinary.com/dc6deairt/image/upload/v1638102932/user-48-01_nugblk.jpg" width="48" height="48" alt="Lauren Marsano" />
                            </a>
                            <div class="pr-1">
                                <a class="inline-flex text-gray-800 hover:text-gray-900" href="#0">
                                    <h2 id="myName" class="text-xl leading-snug font-bold">Name</h2>
                                </a>
                            </div>
                        </div>
                    </div>
                </header>
                <!-- Card body -->
                <div class="py-3 px-5">
                    <h3 class="text-xs font-semibold uppercase text-gray-400 mb-1">Chats</h3>
                    <!-- Chat list -->
                    <div id="chatList" class="divide-y divide-gray-200">
                        <!-- Chat Messages will be added here -->
                    </div>
                </div>
            </div>
        </div>
        <!-- Send TextBox -->
        <div class="fixed bottom-0 w-full flex justify-center m-4">            
            <div id="messageForm" class="w-1/2">   
                <div class="relative">
                    <input type="text" id="message" class="block w-full p-4 ps-10 text-sm text-black border border-gray-300 rounded-lg bg-white-50 focus:ring-black-500 focus:border-black-500 dark:focus:ring-blue-500 dark:focus:border-blue-500" placeholder="Type message..." required autocomplete="off">
                    <button onclick="handleSendMessage()" id="sendBtn" type="button" class="text-white absolute end-2.5 bottom-2.5 bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-4 py-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800">Send</button>
                </div>
            </div>
        </div>
    </section>

<script src="https://cdnjs.cloudflare.com/ajax/libs/flowbite/2.2.1/flowbite.min.js"></script>
<script src="https://requirejs.org/docs/release/2.3.5/minified/require.js"></script>
<script src="./main.js"></script>
</body>
</html>